"use strict";if($("body.blogs_index").length&&$(document).ready(function(){var l=$('meta[name="backend-host"]').attr("content"),e=l+"/articles?_sort=published_at%3Adesc";$.ajax({url:e,type:"GET",beforeSend:function(){console.log("loading...")},success:function(l){var e=l.length>0?l.filter(function(l){return new Date(l.published_at)<new Date}):[],i='\n                    <div class="row">\n                        <div class="col-12 col-lg-8">\n                            <a href="/blog?id='+e[0].id+'" class="d-block article mb-4 mb-lg-3">\n                                <img src='+e[0].cover_url+' class="rounded img-fluid"/>\n                                <div class="mt-3" id="badge"></div>\n                                <h4 class="mt-2 mb-0">'+e[0].title+'</h4>\n                            </a>\n                        </div>\n\n                        <div class="col-12 col-lg-4">\n                            <div class="text-left">\n                                <h4 class="mb-3">\u0e1a\u0e17\u0e04\u0e27\u0e32\u0e21\u0e21\u0e32\u0e43\u0e2b\u0e21\u0e48</h4>\n                            </div>\n                            <div id="article_content"></div>\n                        </div>\n                    </div>\n                ';$("#results").html(i);for(var a="",t=0;t<e[0].article_categories_id.length;t++)a+='<div class="badge badge-pill badge-light mr-2">'+e[0].article_categories_id[t].name+"</div>";$("#badge").html(a);for(var c="",n=1;n<=e.slice(1,5).length;n++){c+='<a href="/blog?id='+e[n].id+'" class="d-block article mb-4 mb-lg-2">\n                                <div class="row">\n                                    <div class="col-4 col-md-3 col-lg-5 col-xl-4">\n                                        <div class="article-square-thumbnail" style="background-image: url('+e[n].cover_url+')"></div>\n                                    </div>\n                                    <div class="col-8 col-md-9 col-lg-7 col-xl-8 pl-0">\n                                        <div class="mt-4 mb-3 d-none d-sm-block d-lg-none"></div>';for(var r=0;r<e[n].article_categories_id.length;r++)c+='<div class="badge badge-pill badge-light mr-2">'+e[n].article_categories_id[r].name+"</div>";c+='<div class="article-compact-title">'+e[n].title+'</div>\n                                    </div>\n                                </div>\n                            </a>\n                            <hr class="mt-0 mb-4 mb-lg-2">',$("#article_content").html(c)}},error:function(l){console.log(l)}});var i=l+"/article-categories?_sort=order%3Aasc";$.ajax({url:i,type:"GET",success:function(l){$.ajax({url:e,type:"GET",success:function(e){for(var i="",a=0;a<l.length;a++)i+='\n                                <a href="#" class="badge badge-pill badge-category mt-3 mr-2">\n                                    '+l[a].name+"\n                                </a>\n                            ";$("#categories-tag").html(i);for(var t="",c=function(i){if(r=l[i].articles_id.length>0?l[i].articles_id.filter(function(e){if(new Date(e.published_at)<new Date)return l[i]}):[],s=r.sort(function(l,e){return new Date(e.published_at)-new Date(l.published_at)}),s.length>0){t+='<div class="row mb-4">\n                                                                    <div class="col-12 col-md-6">\n                                                                        <h3 class="mb-0 mt-4">'+l[i].name+"</h3>\n                                                                    </div>\n                                                                </div>",t+='<div class="row">';for(var a=s.length>=5?4:s.length-1,c=function(l){var i=e.length>0?e.filter(function(e){return e.id==s[l].id}):[];if(l<2){if(t+='\n                                                <div class="col-12 col-lg-4">\n                                                    <a href="/blog?id='+s[l].id+'" class="d-block article mb-4 mb-lg-3">\n                                                        <img src='+s[l].cover_url+' class="rounded img-fluid" />\n                                                        <div class="mt-2">',i[0].article_categories_id.length>0)for(var c=0;c<i[0].article_categories_id.length;c++)t+='<div class="badge badge-pill badge-light mr-2">'+i[0].article_categories_id[c].name+"</div>";t+='</div>\n                                                        <div class="mt-2">'+s[l].title+"</div>\n                                                    </a>\n                                                </div>\n                                            "}if(l>=2&&l<=4){if(2==l&&(t+='<div class="col-12 col-lg-4">'),t+='\n                                                <a href="/blog?id='+s[l].id+'" class="d-block article mb-4 mb-lg-2">\n                                                    <div class="row">\n                                                        <div class="col-4 col-md-3 col-lg-5 col-xl-4">\n                                                            <div class="article-square-thumbnail" style="background-image: url('+s[l].cover_url+')"></div>\n                                                        </div>\n\n                                                        <div class="col-8 col-md-9 col-lg-7 col-xl-8 pl-0">\n                                                            <div class="mt-4 mb-3 d-none d-sm-block d-lg-none"></div>',i[0].article_categories_id.length>0)for(var c=0;c<i[0].article_categories_id.length;c++)t+='<div class="badge badge-pill badge-light mr-2">'+i[0].article_categories_id[c].name+"</div>";t+='\n                                                            <div class="article-compact-title">'+s[l].title+'</div>\n                                                        </div>\n                                                    </div>\n                                                </a>\n                                                <hr class="mt-0 mb-4 mb-lg-2">\n                                            ',l==a&&(t+="</div>")}},n=0;n<s.slice(0,5).length;n++)c(n);t+="</div>"}},n=0;n<l.length;n++){var r,s;c(n)}$("#categories-content").html(t)},error:function(l){console.log(l)}})},error:function(l){console.log(l)}})}),$("body.blog_index").length){var url_string=window.location.href,url=new URL(url_string),param_id=url.searchParams.get("id"),backendUrl=$('meta[name="backend-host"]').attr("content"),article_url_by_id=backendUrl+"/articles/"+param_id,related_article_category=[];$.ajax({url:article_url_by_id,type:"GET",success:function(l){var e=new Date(l.published_at),i=e.toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),a='\n                <div class="row">\n                    <div class="col-12 col-lg-8">\n                        <div class="d-block article mb-4 mb-lg-3">\n                            <img src='+l.cover_url+' class="rounded img-fluid"/>\n\n                            <div class="mt-3" id="badge"></div>\n\n                            <div class="mt-2 blog-article-category-title">'+l.title+'</div>\n\n                            <small class="mt-3 text-muted">\n                                <span class="article-date pr-3">\n                                <i class="far fa-calendar-alt pr-1"></i>\n                                    '+i+'\n                                </span>\n                            </small>\n                        </div>\n                        <hr class="mt-0 mb-4 mb-lg-4">\n                    </div>\n                </div>\n            ';$("#results").html(a),$("#html-body-inner").html(l.content_html);for(var t="",c=0;c<l.article_categories_id.length;c++)t+='<div class="badge badge-pill badge-light mr-2">'+l.article_categories_id[c].name+"</div>",related_article_category.push(l.article_categories_id[c]);$("#badge").html(t);var n=backendUrl+"/article-categories?_sort=order%3Aasc",r=backendUrl+"/articles?_sort=published_at%3Adesc";$.ajax({url:n,type:"GET",success:function(l){$.ajax({url:r,type:"GET",success:function(e){for(var i=l.filter(function(l){return l.id==related_article_category[0].id}),a="",t=0;t<i.length;t++){var c=i[t].articles_id.length>0?i[t].articles_id.filter(function(l){return new Date(l.published_at)<new Date}):[];console.log(i[t].articles_id.length);var n=c.sort(function(){return.5-Math.random()});if(n.length>0){a+='<div class="row mb-4">\n                                                                    <div class="col-12 col-md-6">\n                                                                        <h3>\u0e1a\u0e17\u0e04\u0e27\u0e32\u0e21\u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07</h3>\n                                                                    </div>\n                                                                </div>',a+='<div class="row">';for(var r=function(l){var i=e.length>0?e.filter(function(e){return e.id==n[l].id}):[];if(a+='\n                                            <div class="col-12 col-lg-4">\n                                                <a href="/blog?id='+n[l].id+'" class="d-block article mb-4 mb-lg-3">\n                                                    <img src='+n[l].cover_url+' class="rounded img-fluid" />\n                                                    <div class="mt-2">',i[0].article_categories_id.length>0)for(var t=0;t<i[0].article_categories_id.length;t++)a+='<div class="badge badge-pill badge-light mr-2">'+i[0].article_categories_id[t].name+"</div>";a+='</div>\n                                                    <div class="mt-2">'+n[l].title+"</div>\n                                                </a>\n                                            </div>\n                                        "},s=0;s<n.slice(0,3).length;s++)r(s);a+="</div>"}}$("#article-category-related").html(a)},error:function(l){console.log(l)}})},error:function(l){console.log(l)}})},error:function(l){console.log(l)}})}